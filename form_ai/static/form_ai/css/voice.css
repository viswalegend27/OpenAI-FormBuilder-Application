/* Basic layout & theme */
:root {
  --bg: #0f172a;
  --card: #111827;
  --fg: #e5e7eb;
  --muted: #9ca3af;
  --accent: #2563eb;
  --user-bg: #0b1220;
  --assistant-bg: #081725;
  --bubble-user: #0ea5a4; 
  --bubble-assistant: #1f2937; 
}
* { box-sizing: border-box; }
body { margin:0; font-family: system-ui,Segoe UI,Roboto,Arial,Helvetica,sans-serif; background:var(--bg); color:var(--fg); }
.header { padding: 16px 20px; border-bottom: 1px solid #1f2937; display:flex; align-items:center; gap:16px; flex-wrap:wrap; }
.header h1 { margin:0; font-size:18px; font-weight:600; }
.controls { display:flex; align-items:center; gap:10px; }
#start, #stop { padding:8px 12px; border:0; border-radius:6px; background:var(--accent); color:#fff; cursor:pointer; }
#stop[disabled], #start[disabled] { opacity:.6; cursor:not-allowed; }
#status { color:var(--muted); font-size:14px; }

.content { padding: 16px 20px; display:grid; gap:16px; grid-template-columns: 1fr; }
.conversation-panel { display:block; }
.panel { background:var(--card); border:1px solid #1f2937; border-radius:10px; overflow:hidden; display:flex; flex-direction:column; min-height:320px; }
.panel h2 { margin:0; padding:10px 12px; border-bottom:1px solid #1f2937; font-size:14px; color:#d1d5db; }

/* Conversation container */
.conversation {
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:10px;
  flex:1;
  overflow:auto;
  min-height:240px;
  scroll-behavior: smooth;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
}

/* Message common */
.message {
  max-width:78%;
  display:inline-flex;
  align-items:flex-end;
  gap:8px;
  padding:10px 12px;
  border-radius:12px;
  font-size:14px;
  line-height:1.4;
  word-wrap:break-word;
  white-space:pre-wrap;
  box-shadow: 0 1px 0 rgba(255,255,255,0.02) inset;
}

/* role-specific alignment and style */
.message.user {
  align-self: flex-end;
  background: linear-gradient(180deg, var(--bubble-user), #0b8b86);
  color: #061014;
  border-bottom-right-radius:6px;
}

.message.assistant {
  align-self: flex-start;
  background: linear-gradient(180deg, var(--bubble-assistant), #0f1724);
  color: var(--fg);
  border-bottom-left-radius:6px;
}

/* small meta row inside the bubble */
.message .meta {
  display:block;
  font-size:11px;
  color:var(--muted);
  margin-top:6px;
  opacity:0.9;
}

/* streaming indicator (dots) */
.streaming {
  font-style: italic;
  opacity: .85;
}

/* empty conversation state */
.conversation.empty::before {
  content: "No conversation yet â€” click Start to begin";
  display:block;
  color:var(--muted);
  padding:8px;
}

/* audio element */
.audio { display:flex; align-items:center; gap:10px; }
audio { width:100%; }

/* toast */
.toast { position:fixed; left:50%; bottom:24px; transform:translateX(-50%); background:#111827; color:#fff; padding:10px 14px; border-radius:8px; border:1px solid #1f2937; opacity:0; pointer-events:none; transition:opacity .2s ease; }
.toast.show { opacity:1; pointer-events:auto; }
