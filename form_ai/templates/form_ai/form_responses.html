<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>{{ form.title }} - Responses</title>
    {% load static %}
    <link rel="icon" href="{% static 'form_ai/favicon.ico' %}">
    <link rel="stylesheet" href="{% static 'form_ai/css/responses.css' %}">
</head>
<body>
    <header class="header">
        <h1>{{ form.title }} - Responses</h1>
        <nav class="header-actions">
            <a href="{% url 'manage_forms' %}" class="control-btn">‚Üê Back to Forms</a>
        </nav>
    </header>

    <main class="layout">
        {% if responses %}
            <ul class="responses-list">
                {% for response in responses %}
                    <li class="response-container">
                        <div class="response-meta">
                            <div class="meta-row">
                                <span class="meta-label">Session ID:</span>
                                <span class="meta-value session-id">{{ response.session_id|default:"N/A" }}</span>
                            </div>
                            <div class="meta-row">
                                <span class="meta-label">Completed:</span>
                                <span class="meta-value">{{ response.created_at|date:"Y-m-d H:i:s" }}</span>
                            </div>
                        </div>

                        {% if response.user_response %}
                            <strong class="response-data-title">Extracted Responses:</strong>
                            <div class="response-fields">
                                {% for key, value in response.user_response.items %}
                                    <div class="response-field">
                                        <span class="response-key">{{ key|title }}:</span>
                                        <span class="response-value {% if value %}value-provided{% else %}value-empty{% endif %}">
                                            {{ value|default:"(not provided)" }}
                                        </span>
                                    </div>
                                {% endfor %}
                            </div>
                        {% else %}
                            <p class="empty-response-note">No extracted responses available</p>
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <div class="empty-state">
                <h3 class="empty-title">No Responses Yet</h3>
                <p class="empty-sub">Share the interview link to start collecting responses.</p>
            </div>
        {% endif %}
    </main>
</body>
</html>